function VideoPlayer(){}VideoPlayer.prototype.listenVideoPlayEvent=function(){var e=$("#video-info"),t=e.attr("data-video-url"),o=e.attr("data-cover-url"),a=e.attr("data-course-id"),n=cyberplayer("playercontainer").setup({width:"100%",height:"100%",file:t,image:o,autostart:!1,stretching:"uniform",repeat:!1,volume:100,controls:!0,tokenEncrypt:"true",ak:"a5c18a9a51904766a2bf19669b4bfe0b"});n.on("beforePlay",function(o){/m3u8/.test(o.file)&&xfzajax.get({url:"/course/course_token/",data:{video:t,course_id:a},success:function(e){if(200===e.code){var t=e.data.token;n.setToken(o.file,t)}else window.messageBox.showInfo(e.message),n.stop()},fail:function(e){console.log(e)}})})},VideoPlayer.prototype.run=function(){this.listenVideoPlayEvent()},$(function(){(new VideoPlayer).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZV9kZXRhaWwuanMiXSwibmFtZXMiOlsiVmlkZW9QbGF5ZXIiLCJwcm90b3R5cGUiLCJsaXN0ZW5WaWRlb1BsYXlFdmVudCIsInZpZGVvR3JvdXAiLCIkIiwidmlkZW9VcmwiLCJhdHRyIiwiY292ZXJVcmwiLCJjb3Vyc2VJZCIsInBsYXllciIsImN5YmVycGxheWVyIiwic2V0dXAiLCJ3aWR0aCIsImhlaWdodCIsImZpbGUiLCJpbWFnZSIsImF1dG9zdGFydCIsInN0cmV0Y2hpbmciLCJyZXBlYXQiLCJ2b2x1bWUiLCJjb250cm9scyIsInRva2VuRW5jcnlwdCIsImFrIiwib24iLCJlIiwidGVzdCIsInhmemFqYXgiLCJnZXQiLCJ1cmwiLCJkYXRhIiwidmlkZW8iLCJjb3Vyc2VfaWQiLCJzdWNjZXNzIiwicmVzdWx0IiwidG9rZW4iLCJzZXRUb2tlbiIsIndpbmRvdyIsIm1lc3NhZ2VCb3giLCJzaG93SW5mbyIsInN0b3AiLCJmYWlsIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwicnVuIiwidGhpcyJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsZUFJVEEsWUFBWUMsVUFBVUMscUJBQXVCLFdBQ3pDLElBQUlDLEVBQWFDLEVBQUUsZUFDZkMsRUFBV0YsRUFBV0csS0FBSyxrQkFDM0JDLEVBQVdKLEVBQVdHLEtBQUssa0JBQzNCRSxFQUFXTCxFQUFXRyxLQUFLLGtCQUMzQkcsRUFBU0MsWUFBWSxtQkFBbUJDLE1BQU0sQ0FDOUNDLE1BQU8sT0FDUEMsT0FBUSxPQUNSQyxLQUFNVCxFQUNOVSxNQUFPUixFQUNQUyxXQUFXLEVBQ1hDLFdBQVksVUFDWkMsUUFBUSxFQUNSQyxPQUFRLElBQ1JDLFVBQVUsRUFDVkMsYUFBYyxPQUVkQyxHQUFJLHFDQUVSYixFQUFPYyxHQUFHLGFBQWMsU0FBVUMsR0FDekIsT0FBT0MsS0FBS0QsRUFBRVYsT0FHbkJZLFFBQVFDLElBQUksQ0FDUkMsSUFBTyx3QkFDUEMsS0FBUSxDQUNKQyxNQUFTekIsRUFDVDBCLFVBQWF2QixHQUVqQndCLFFBQVcsU0FBVUMsR0FDakIsR0FBdUIsTUFBbkJBLEVBQWEsS0FBVyxDQUN4QixJQUFJQyxFQUFRRCxFQUFhLEtBQVMsTUFDbEN4QixFQUFPMEIsU0FBU1gsRUFBRVYsS0FBTW9CLFFBRXhCRSxPQUFPQyxXQUFXQyxTQUFTTCxFQUFnQixTQUMzQ3hCLEVBQU84QixRQUdmQyxLQUFRLFNBQVVDLEdBQ2RDLFFBQVFDLElBQUlGLFNBTzVCekMsWUFBWUMsVUFBVTJDLElBQU0sV0FDYkMsS0FDTjNDLHdCQUdURSxFQUFFLFlBQ29CLElBQUlKLGFBQ1Y0QyIsImZpbGUiOiJjb3Vyc2VfZGV0YWlsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIFZpZGVvUGxheWVyKCkge1xuXG59XG5cblZpZGVvUGxheWVyLnByb3RvdHlwZS5saXN0ZW5WaWRlb1BsYXlFdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdmlkZW9Hcm91cCA9ICQoXCIjdmlkZW8taW5mb1wiKTtcbiAgICB2YXIgdmlkZW9VcmwgPSB2aWRlb0dyb3VwLmF0dHIoXCJkYXRhLXZpZGVvLXVybFwiKTtcbiAgICB2YXIgY292ZXJVcmwgPSB2aWRlb0dyb3VwLmF0dHIoXCJkYXRhLWNvdmVyLXVybFwiKTtcbiAgICB2YXIgY291cnNlSWQgPSB2aWRlb0dyb3VwLmF0dHIoXCJkYXRhLWNvdXJzZS1pZFwiKTtcbiAgICB2YXIgcGxheWVyID0gY3liZXJwbGF5ZXIoXCJwbGF5ZXJjb250YWluZXJcIikuc2V0dXAoe1xuICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgZmlsZTogdmlkZW9VcmwsXG4gICAgICAgIGltYWdlOiBjb3ZlclVybCxcbiAgICAgICAgYXV0b3N0YXJ0OiBmYWxzZSxcbiAgICAgICAgc3RyZXRjaGluZzogXCJ1bmlmb3JtXCIsXG4gICAgICAgIHJlcGVhdDogZmFsc2UsXG4gICAgICAgIHZvbHVtZTogMTAwLFxuICAgICAgICBjb250cm9sczogdHJ1ZSxcbiAgICAgICAgdG9rZW5FbmNyeXB0OiBcInRydWVcIixcbiAgICAgICAgLyogQWNjZXNzS2V5ICovXG4gICAgICAgIGFrOiAnYTVjMThhOWE1MTkwNDc2NmEyYmYxOTY2OWI0YmZlMGInXG4gICAgfSk7XG4gICAgcGxheWVyLm9uKCdiZWZvcmVQbGF5JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKCEvbTN1OC8udGVzdChlLmZpbGUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgeGZ6YWpheC5nZXQoe1xuICAgICAgICAgICAgJ3VybCc6ICcvY291cnNlL2NvdXJzZV90b2tlbi8nLFxuICAgICAgICAgICAgJ2RhdGEnOiB7XG4gICAgICAgICAgICAgICAgJ3ZpZGVvJzogdmlkZW9VcmwsXG4gICAgICAgICAgICAgICAgJ2NvdXJzZV9pZCc6IGNvdXJzZUlkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRva2VuID0gcmVzdWx0WydkYXRhJ11bJ3Rva2VuJ107XG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5zZXRUb2tlbihlLmZpbGUsIHRva2VuKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93SW5mbyhyZXN1bHRbJ21lc3NhZ2UnXSk7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5zdG9wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdmYWlsJzogZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSlcbn07XG5cblxuVmlkZW9QbGF5ZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5saXN0ZW5WaWRlb1BsYXlFdmVudCgpXG59O1xuXG4kKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdmlkZW9QbGF5ZXIgPSBuZXcgVmlkZW9QbGF5ZXIoKTtcbiAgICB2aWRlb1BsYXllci5ydW4oKVxufSk7Il19
